Вот профессиональный и лаконичный `README.md`, полностью соответствующий требованиям задания:

---

# RAG-агент по книге «Крёстный отец»

AI-агент, отвечающий на вопросы по роману Марио Пьюзо *The Godfather* с использованием RAG-подхода и внутренней файловой системы, реализованной в соответствии с архитектурой `deepagents`.

## Реализовано

- **Часть 1 (обязательная):**
  - Загрузка и индексация текста книги (`book.txt`)
  - Разбиение на чанки с перекрытием
  - Векторный поиск через Chroma и multilingual эмбеддинги
  - Tool `answer_from_book` (в рамках многошагового workflow)

- **Часть 2 (со звёздочкой):**
  - Внутренняя файловая система в состоянии агента (аналог `StateBackend` из `deepagents`)
  - Tool `rag_and_save(query)` — выполняет RAG, сохраняет результат в файл, возвращает путь
  - Tool `read_file(path)` — читает содержимое файла из внутренней ФС
  - Tool `ls()` — выводит список файлов в файловой системе
  - Двухшаговый workflow: RAG → сохранение → чтение → финальный ответ
  - Интерактивный CLI с поддержкой служебных команд (`!ls`, `!reset`)

## Используемая модель

- **Модель:** `google/gemini-2.5-flash`
- **Провайдер:** OpenRouter (`https://openrouter.ai/api/v1`)
- **Эмбеддинги:** `sentence-transformers/paraphrase-multilingual-mpnet-base-v2`
- **Векторная база:** Chroma (локальное хранение в `./chroma_godfather`)

## Требования

- Python 3.10+
- Зависимости из `requirements.txt`:
  ```
  langchain==1.0.3
  langgraph==1.0.3
  langchain-openai
  langchain-chroma
  langchain-huggingface
  langchain-text-splitters
  python-dotenv
  ```

## Установка и запуск

1. Поместите текст книги *The Godfather* (английская версия) в `data/book.txt`.
2. Создайте файл `.env` в корне проекта и укажите:
   ```env
   OPENROUTER_API_KEY=your_openrouter_api_key
   ```
3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
4. Запустите агент:
   ```bash
   python main.py
   ```

## Управление

- Задавайте вопросы на **русском языке**.
- Введите `!ls` — чтобы посмотреть список файлов в внутренней файловой системе.
- Введите `!reset` — чтобы очистить файловую систему.
- Введите `exit`, `quit` или `выход` — чтобы завершить сессию.

## Примеры запросов

| Вопрос | Ожидаемый ответ (фрагмент) |
|-------|----------------------------|
| Как зовут дочь Дона Корлеоне? | Дочь Дона Корлеоне зовут Конни. |
| Кто такой Лука Брази? | Лука Брази — человек, который пугал самого дьявола в аду… |
| Как звали первую жену Майкла в Сицилии? | Жену Майкла Корлеоне на Сицилии звали Аполлония. |
| Что случилось с Аполлонией? | Аполлония погибла от взрыва бомбы, когда заводила машину. |
| Как погиб Сонни Корлеоне? | Сонни Корлеоне был застрелен на дамбе. |
| Кто стал крёстным отцом сына Конни и Карло? | Крестным отцом сына Карло и Конни стал Майкл Корлеоне. |
| !ls | `/results/query_20251217_122552_Как_зовут_дочь_Дона.txt`<br>`/results/query_20251217_122611_Кто_такой_Лука_Брази.txt` |

При отсутствии информации в книге агент возвращает точную фразу:  
**«В книге не содержится информация по этому вопросу.»**

## Архитектурные особенности

- Все системные инструкции и промпты — на **английском языке**.
- Все финальные ответы пользователю — на **русском языке**.
- Файловая система **эфемерна**: файлы хранятся в памяти (`dict`) и сохраняются в течение одной сессии.
- Агент построен с использованием `create_agent()` из LangChain, что соответствует требованиям задания.
- Workflow соответствует паттерну ReAct: reasoning → tool call → observation → final answer.
